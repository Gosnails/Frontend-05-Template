<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        function match(string) {
            let state = start;
            for (let c of string) {
                state = state(c);
            }
            return state === end;
        }

        function start(c) {
            if (c === 'a') {
                return foundA;
            }
            return start;
        }

        function end() {
            return end;
        }

        function foundA(c) {
            if (c === 'b') {
                return foundB;
            }
            return start(c);
        }

        function foundB(c) {
            if (c === 'a') {
                return foundA2;
            }
            return start(c);
        }

        function foundA2(c) {
            if (c === 'b') {
                return foundB2;
            }
            return start(c);
        }

        function foundB2(c) {
            if (c === 'a') {
                return foundA3;
            }
            return start(c);
        }

        function foundA3(c) {
            if (c === 'b') {
                return foundB3;
            }
            return start(c);
        }

        function foundB3(c) {
            if (c === 'x') {
                return end;
            }
            return foundB2(c);
        }


        // function match(string) {
        //     let state = start;
        //     for (let c of string) {
        //         state = state(c);
        //     }
        //     return state === end;
        // }

        // function start(c) {
        //     if (c === 'a') {
        //         return foundA;
        //     }
        //     return start;
        // }

        // function end() {
        //     return end;
        // }

        // function foundA(c) {
        //     if (c === 'b') {
        //         return foundB;
        //     }
        //     return start(c);
        // }

        // function foundB(c) {
        //     if (c === 'c') {
        //         return foundC;
        //     }
        //     return start(c);
        // }

        // function foundC(c) {
        //     if (c === 'a') {
        //         return foundA2;
        //     }
        //     return start(c);
        // }

        // function foundA2(c) {
        //         if (c === 'b') {
        //             return foundB2;
        //         }
        //         return start(c);
        //     }

        // function foundB2(c) {
        //     if (c === 'x') {
        //         return end;
        //     }
        //     return foundB(c);
        // }
        // function match(string) {
        //     let foundA = false;
        //     let foundB = false;
        //     let foundC = false;
        //     let foundD = false;
        //     let foundE = false;
        //     for (let c of string) {
        //         if (c === 'a') {
        //             foundA = true;
        //         } else if (foundA && c === 'b') {
        //             foundB = true;
        //         } else if (foundB && c === 'c') {
        //             foundC = true;
        //         } else if (foundC && c === 'd') {
        //             foundD = true;
        //         } else if (foundD && c === 'e') {
        //             foundE = true;
        //         } else if (foundE && c === 'f') {
        //             return true;
        //         } else {
        //             foundA = false;
        //             foundB = false;
        //             foundC = false;
        //             foundD = false;
        //             foundE = false;
        //         }
        //     }
        //     return false;
        // }
        console.log(match('abababx'))
    </script>
</body>

</html>